# 大衍筮法

周易算卦，用大衍筮法算出本卦，之卦

### 爻数解释
6为老阴，9为老阳，7为少阳，8为少阴

### 爻变
若遇到老阳9，爻本阳当变阴；若遇到老阴6，爻本阴当变阳爻，因而出现了变卦。原卦称“本卦”，变卦称“之卦”。

### 解卦
- 凡卦六爻皆不变,则占本卦彖辞。而以内卦为贞，外卦为悔。
- 一爻变，则以本卦变爻辞占。
- 二爻变，则以本卦二变爻辞占，仍以上爻为主。
- 三爻变，则占本卦及之卦之彖辞，而以本卦为贞，之卦为悔。前十卦主贞，后十卦主悔。（三爻变者，每卦能变出二十卦。前十卦指初爻不变者，则以两卦之彖辞占，以本卦彖辞为主。后十卦指初爻变者，则以变卦彖辞为主。）
- 四爻变，则以之卦二不变爻占，仍以下爻为主。
- 五爻变，则以之卦不变爻占。
- 六爻变，则《乾》《坤》占“二用”，余卦占之卦彖辞。

## Analysis
### Distribution test
|爻数|Count|percentage|
|-|-|-|
|6| 518,504|0.052|
|7|2,885,092|0.289|
|8|4,484,179|0.448|
|9|2,112,225|0.211|
|阴|5,002,683|0.500|
|阳|4,997,317|0.500|
|Total|10,000,000|1|

三变皆挂一，阴阳出现概率各一半，基本吻合朱熹《蓍卦考误》中的说法。

### 卦数
每爻四数，共六爻，总卦数 Total = 4 ^ 6  = 4096

每卦平均概率 P = 1 / 4096 = 0.00024414

### 出现概率最低的卦

```
6   --  一
6   --  一
6   --  一
6   --  一
6   --  一
6   --  一
```
本卦：**坤**； 之卦：**乾**


P = 0.052 ^ 6 = 0.00000001977


坤卦六爻变，占**用六**。

> 用六：利永贞。

> 象曰：用六永贞，以大终也。

### 出现概率最高的卦

```
8 -- --
8 -- --
8 -- --
8 -- --
8 -- --
8 -- --
```
本卦：**坤**； 之卦：**坤**


P = 0.448 ^ 6 = 0.00808

坤卦六爻不变，占本卦**彖辞**。

> 彖曰：至哉坤元，万物资生，乃顺承天。坤厚载物，德合无疆。含弘光大，品物咸亨。牝马地类，行地无疆，柔顺利贞。君子攸行，先迷失道，后顺得常。西南得朋，乃与类行;东北丧朋，乃终有庆。安贞之吉，应地无疆。

> 象曰：地势坤，君子以厚德载物。

## References
- 周易
- 蓍卦考误

## 致谢
感谢元和同学提供的周易资料，时过多年，还能找到，实属不易。
